

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AlphaPy Pro Pipeline &mdash; AlphaPy Pro 3.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=acc74ff5"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Project Structure" href="project.html" />
    <link rel="prev" title="Trading System Tutorial" href="../tutorials/system.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            AlphaPy Pro
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../introduction/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/quickstart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/command.html">Command Line Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/support.html">Support</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/kaggle.html">Kaggle Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/market.html">Market Prediction Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/system.html">Trading System Tutorial</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">AlphaPy Pro Pipeline</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pipeline-architecture">Pipeline Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="#model-configuration">Model Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#supported-algorithms">Supported Algorithms</a></li>
<li class="toctree-l2"><a class="reference internal" href="#feature-engineering">Feature Engineering</a></li>
<li class="toctree-l2"><a class="reference internal" href="#feature-selection">Feature Selection</a></li>
<li class="toctree-l2"><a class="reference internal" href="#model-training">Model Training</a></li>
<li class="toctree-l2"><a class="reference internal" href="#model-evaluation">Model Evaluation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ensemble-methods">Ensemble Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="#visualization">Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="#output-structure">Output Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="#advanced-features">Advanced Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="#best-practices">Best Practices</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="project.html">Project Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="market_flow.html">MarketFlow</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../source/modules.html">alphapy</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">AlphaPy Pro</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">AlphaPy Pro Pipeline</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/user_guide/pipelines.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="alphapy-pro-pipeline">
<h1>AlphaPy Pro Pipeline<a class="headerlink" href="#alphapy-pro-pipeline" title="Link to this heading"></a></h1>
<a class="reference internal image-reference" href="../_images/model_pipeline.png"><img alt="AlphaPy Pro Model Pipeline" class="align-center" src="../_images/model_pipeline.png" style="width: 100%;" />
</a>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>The AlphaPy Pro pipeline is a comprehensive machine learning framework that automates
the entire workflow from data ingestion to model deployment. The pipeline is designed
to be flexible, supporting various algorithms and techniques while maintaining
consistency and reproducibility.</p>
</section>
<section id="pipeline-architecture">
<h2>Pipeline Architecture<a class="headerlink" href="#pipeline-architecture" title="Link to this heading"></a></h2>
<p>The AlphaPy Pro pipeline consists of several key stages:</p>
<ol class="arabic simple">
<li><p><strong>Configuration Loading</strong> - Read model parameters from YAML files</p></li>
<li><p><strong>Data Ingestion</strong> - Load training and testing data</p></li>
<li><p><strong>Feature Engineering</strong> - Transform and create features</p></li>
<li><p><strong>Feature Selection</strong> - Select the most informative features</p></li>
<li><p><strong>Model Training</strong> - Train multiple algorithms with hyperparameter tuning</p></li>
<li><p><strong>Model Evaluation</strong> - Assess model performance with various metrics</p></li>
<li><p><strong>Ensemble Creation</strong> - Blend predictions from multiple models</p></li>
<li><p><strong>Visualization</strong> - Generate plots for model interpretation</p></li>
<li><p><strong>Output Generation</strong> - Save models, predictions, and artifacts</p></li>
</ol>
</section>
<section id="model-configuration">
<h2>Model Configuration<a class="headerlink" href="#model-configuration" title="Link to this heading"></a></h2>
<p>AlphaPy Pro uses YAML configuration files to control every aspect of the pipeline.
The configuration is hierarchical and includes sections for:</p>
<ul class="simple">
<li><p><strong>Project Settings</strong> - Directory paths, file formats, submission options</p></li>
<li><p><strong>Model Parameters</strong> - Algorithms, cross-validation, scoring metrics</p></li>
<li><p><strong>Data Processing</strong> - Feature selection, sampling, transformations</p></li>
<li><p><strong>Feature Engineering</strong> - Encoding, interactions, clustering, dimensionality reduction</p></li>
<li><p><strong>Pipeline Settings</strong> - Parallelization, random seeds, verbosity</p></li>
</ul>
<p>Example configuration snippet:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="p">:</span>
    <span class="n">algorithms</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;CATB&#39;</span><span class="p">,</span> <span class="s1">&#39;LGB&#39;</span><span class="p">,</span> <span class="s1">&#39;XGB&#39;</span><span class="p">,</span> <span class="s1">&#39;RF&#39;</span><span class="p">,</span> <span class="s1">&#39;LOGR&#39;</span><span class="p">]</span>
    <span class="n">cv_folds</span><span class="p">:</span> <span class="mi">5</span>
    <span class="n">grid_search</span><span class="p">:</span>
        <span class="n">option</span><span class="p">:</span> <span class="kc">True</span>
        <span class="n">iterations</span><span class="p">:</span> <span class="mi">50</span>
        <span class="n">random</span><span class="p">:</span> <span class="kc">True</span>
    <span class="n">scoring_function</span><span class="p">:</span> <span class="n">roc_auc</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">classification</span>
</pre></div>
</div>
</section>
<section id="supported-algorithms">
<h2>Supported Algorithms<a class="headerlink" href="#supported-algorithms" title="Link to this heading"></a></h2>
<p><strong>Classification Algorithms:</strong></p>
<ul class="simple">
<li><p><strong>CatBoost (CATB)</strong> - Gradient boosting with categorical feature support</p></li>
<li><p><strong>LightGBM (LGB)</strong> - Fast gradient boosting framework</p></li>
<li><p><strong>XGBoost (XGB)</strong> - Extreme gradient boosting</p></li>
<li><p><strong>Random Forest (RF)</strong> - Ensemble of decision trees</p></li>
<li><p><strong>Logistic Regression (LOGR)</strong> - Linear classification model</p></li>
<li><p><strong>Extra Trees (EXT)</strong> - Extremely randomized trees</p></li>
<li><p><strong>Support Vector Machine (SVM)</strong> - Maximum margin classifier</p></li>
<li><p><strong>K-Nearest Neighbors (KNN)</strong> - Instance-based learning</p></li>
</ul>
<p><strong>Regression Algorithms:</strong></p>
<ul class="simple">
<li><p><strong>CatBoost Regressor</strong> - Gradient boosting for regression</p></li>
<li><p><strong>LightGBM Regressor</strong> - Light gradient boosting regressor</p></li>
<li><p><strong>XGBoost Regressor</strong> - XGBoost for continuous targets</p></li>
<li><p><strong>Random Forest Regressor</strong> - Ensemble regression</p></li>
<li><p><strong>Linear Regression</strong> - Standard linear model</p></li>
<li><p><strong>Ridge/Lasso</strong> - Regularized linear models</p></li>
</ul>
</section>
<section id="feature-engineering">
<h2>Feature Engineering<a class="headerlink" href="#feature-engineering" title="Link to this heading"></a></h2>
<p>AlphaPy Pro provides extensive feature engineering capabilities:</p>
<p><strong>Automatic Feature Generation:</strong></p>
<ul class="simple">
<li><p><strong>Clustering Features</strong> - K-means clustering with configurable clusters</p></li>
<li><p><strong>Interaction Features</strong> - Polynomial feature interactions</p></li>
<li><p><strong>Count Features</strong> - Value counts and frequency encoding</p></li>
<li><p><strong>Date/Time Features</strong> - Extract temporal components</p></li>
<li><p><strong>Text Features</strong> - TF-IDF and count vectorization</p></li>
<li><p><strong>Statistical Features</strong> - NumPy/SciPy transformations</p></li>
</ul>
<p><strong>Encoding Options:</strong></p>
<ul class="simple">
<li><p><strong>Target Encoding</strong> - Mean target encoding with smoothing</p></li>
<li><p><strong>One-Hot Encoding</strong> - Binary columns for categories</p></li>
<li><p><strong>Ordinal Encoding</strong> - Integer encoding for ordinal data</p></li>
<li><p><strong>Binary Encoding</strong> - Efficient binary representation</p></li>
</ul>
<p><strong>Dimensionality Reduction:</strong></p>
<ul class="simple">
<li><p><strong>PCA</strong> - Principal Component Analysis</p></li>
<li><p><strong>ISOMAP</strong> - Isometric mapping</p></li>
<li><p><strong>t-SNE</strong> - t-distributed Stochastic Neighbor Embedding</p></li>
</ul>
</section>
<section id="feature-selection">
<h2>Feature Selection<a class="headerlink" href="#feature-selection" title="Link to this heading"></a></h2>
<p>Multiple feature selection methods are available:</p>
<dl class="simple">
<dt><strong>Univariate Selection:</strong></dt><dd><p>Statistical tests to select features based on univariate metrics
(f_classif, mutual_info_classif, chi2, etc.)</p>
</dd>
<dt><strong>LOFO Importance:</strong></dt><dd><p>Leave One Feature Out importance analysis to identify
features that contribute most to model performance</p>
</dd>
<dt><strong>Recursive Feature Elimination (RFE):</strong></dt><dd><p>Iteratively remove features based on model coefficients</p>
</dd>
<dt><strong>Variance Threshold:</strong></dt><dd><p>Remove low-variance features</p>
</dd>
</dl>
</section>
<section id="model-training">
<h2>Model Training<a class="headerlink" href="#model-training" title="Link to this heading"></a></h2>
<p>The training process includes:</p>
<ol class="arabic simple">
<li><p><strong>Data Splitting</strong> - Stratified train/validation splits</p></li>
<li><p><strong>Cross-Validation</strong> - K-fold CV with configurable folds</p></li>
<li><p><strong>Hyperparameter Tuning</strong> - Grid search or random search</p></li>
<li><p><strong>Model Fitting</strong> - Parallel training of multiple algorithms</p></li>
<li><p><strong>Calibration</strong> - Probability calibration (Platt/Isotonic)</p></li>
</ol>
<p>Example training output:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">2025</span><span class="o">/</span><span class="mi">06</span><span class="o">/</span><span class="mi">18</span> <span class="mi">20</span><span class="p">:</span><span class="mi">45</span><span class="p">:</span><span class="mi">45</span><span class="p">]</span> <span class="n">INFO</span> <span class="n">Training</span> <span class="n">CATB</span>
<span class="p">[</span><span class="mi">2025</span><span class="o">/</span><span class="mi">06</span><span class="o">/</span><span class="mi">18</span> <span class="mi">20</span><span class="p">:</span><span class="mi">45</span><span class="p">:</span><span class="mi">46</span><span class="p">]</span> <span class="n">INFO</span> <span class="n">CV</span> <span class="n">Score</span><span class="p">:</span> <span class="mf">0.9158</span> <span class="p">[</span><span class="o">+/-</span> <span class="mf">0.0234</span><span class="p">]</span>
<span class="p">[</span><span class="mi">2025</span><span class="o">/</span><span class="mi">06</span><span class="o">/</span><span class="mi">18</span> <span class="mi">20</span><span class="p">:</span><span class="mi">45</span><span class="p">:</span><span class="mi">47</span><span class="p">]</span> <span class="n">INFO</span> <span class="n">Training</span> <span class="n">LGB</span>
<span class="p">[</span><span class="mi">2025</span><span class="o">/</span><span class="mi">06</span><span class="o">/</span><span class="mi">18</span> <span class="mi">20</span><span class="p">:</span><span class="mi">45</span><span class="p">:</span><span class="mi">48</span><span class="p">]</span> <span class="n">INFO</span> <span class="n">CV</span> <span class="n">Score</span><span class="p">:</span> <span class="mf">0.9944</span> <span class="p">[</span><span class="o">+/-</span> <span class="mf">0.0012</span><span class="p">]</span>
<span class="p">[</span><span class="mi">2025</span><span class="o">/</span><span class="mi">06</span><span class="o">/</span><span class="mi">18</span> <span class="mi">20</span><span class="p">:</span><span class="mi">45</span><span class="p">:</span><span class="mi">49</span><span class="p">]</span> <span class="n">INFO</span> <span class="n">Training</span> <span class="n">XGB</span>
<span class="p">[</span><span class="mi">2025</span><span class="o">/</span><span class="mi">06</span><span class="o">/</span><span class="mi">18</span> <span class="mi">20</span><span class="p">:</span><span class="mi">45</span><span class="p">:</span><span class="mi">50</span><span class="p">]</span> <span class="n">INFO</span> <span class="n">CV</span> <span class="n">Score</span><span class="p">:</span> <span class="mf">0.8171</span> <span class="p">[</span><span class="o">+/-</span> <span class="mf">0.0156</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="model-evaluation">
<h2>Model Evaluation<a class="headerlink" href="#model-evaluation" title="Link to this heading"></a></h2>
<p>Comprehensive evaluation metrics for different problem types:</p>
<p><strong>Classification Metrics:</strong></p>
<ul class="simple">
<li><p>Accuracy, Precision, Recall, F1-Score</p></li>
<li><p>ROC-AUC, Average Precision</p></li>
<li><p>Matthews Correlation Coefficient</p></li>
<li><p>Cohen’s Kappa</p></li>
<li><p>Log Loss, Brier Score</p></li>
</ul>
<p><strong>Regression Metrics:</strong></p>
<ul class="simple">
<li><p>Mean Absolute Error (MAE)</p></li>
<li><p>Mean Squared Error (MSE)</p></li>
<li><p>Root Mean Squared Error (RMSE)</p></li>
<li><p>R-squared (R²)</p></li>
<li><p>Mean Absolute Percentage Error (MAPE)</p></li>
</ul>
</section>
<section id="ensemble-methods">
<h2>Ensemble Methods<a class="headerlink" href="#ensemble-methods" title="Link to this heading"></a></h2>
<p>AlphaPy Pro automatically creates ensemble models:</p>
<dl class="simple">
<dt><strong>Blending:</strong></dt><dd><p>Combines predictions from multiple models using a meta-learner
(Logistic Regression for classification, Ridge for regression)</p>
</dd>
<dt><strong>Voting:</strong></dt><dd><p>Simple or weighted voting across models</p>
</dd>
<dt><strong>Stacking:</strong></dt><dd><p>Multi-level stacking with cross-validated predictions</p>
</dd>
</dl>
</section>
<section id="visualization">
<h2>Visualization<a class="headerlink" href="#visualization" title="Link to this heading"></a></h2>
<p>The pipeline generates various plots for model interpretation:</p>
<dl class="simple">
<dt><strong>Calibration Plot</strong></dt><dd><p>Shows reliability of predicted probabilities</p>
</dd>
</dl>
<a class="reference internal image-reference" href="../_images/plot_calibration.png"><img alt="Calibration Plot" class="align-center" src="../_images/plot_calibration.png" style="width: 80%;" />
</a>
<dl class="simple">
<dt><strong>Confusion Matrix</strong></dt><dd><p>Visualizes classification errors by class</p>
</dd>
</dl>
<a class="reference internal image-reference" href="../_images/plot_confusion_matrix.png"><img alt="Confusion Matrix" class="align-center" src="../_images/plot_confusion_matrix.png" style="width: 80%;" />
</a>
<dl class="simple">
<dt><strong>Feature Importance Plot</strong></dt><dd><p>Shows relative importance of features</p>
</dd>
</dl>
<a class="reference internal image-reference" href="../_images/plot_feature_importances.png"><img alt="Feature Importances" class="align-center" src="../_images/plot_feature_importances.png" style="width: 80%;" />
</a>
<dl class="simple">
<dt><strong>Learning Curve</strong></dt><dd><p>Displays training/validation scores vs. sample size</p>
</dd>
</dl>
<a class="reference internal image-reference" href="../_images/plot_learning_curve.png"><img alt="Learning Curve" class="align-center" src="../_images/plot_learning_curve.png" style="width: 80%;" />
</a>
<dl class="simple">
<dt><strong>ROC Curve</strong></dt><dd><p>Receiver Operating Characteristic curve for binary classification</p>
</dd>
</dl>
<a class="reference internal image-reference" href="../_images/plot_roc_curve.png"><img alt="ROC Curve" class="align-center" src="../_images/plot_roc_curve.png" style="width: 80%;" />
</a>
<dl class="simple">
<dt><strong>LOFO Importance Plot</strong></dt><dd><p>Leave One Feature Out importance analysis</p>
</dd>
</dl>
</section>
<section id="output-structure">
<h2>Output Structure<a class="headerlink" href="#output-structure" title="Link to this heading"></a></h2>
<p>All outputs are saved in timestamped run directories:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>runs/run_YYYYMMDD_HHMMSS/
├── config/
│   └── model.yml          # Configuration snapshot
├── input/
│   ├── train.csv          # Training data snapshot
│   └── test.csv           # Test data snapshot
├── model/
│   ├── model.pkl          # Trained model ensemble
│   ├── feature_map.pkl    # Feature transformation pipeline
│   └── model_metrics.csv  # Performance metrics
├── output/
│   ├── predictions.csv    # Raw predictions
│   ├── ranked_*.csv       # Ranked predictions
│   └── submission.csv     # Competition submission file
└── plots/
    ├── *.png              # All generated plots
    └── ...
</pre></div>
</div>
</section>
<section id="advanced-features">
<h2>Advanced Features<a class="headerlink" href="#advanced-features" title="Link to this heading"></a></h2>
<dl class="simple">
<dt><strong>Meta-Labeling:</strong></dt><dd><p>Triple Barrier Method for financial ML applications</p>
</dd>
<dt><strong>Time Series Support:</strong></dt><dd><p>Lag features, rolling statistics, and proper CV splits</p>
</dd>
<dt><strong>GPU Acceleration:</strong></dt><dd><p>Automatic GPU usage for XGBoost, LightGBM, and CatBoost</p>
</dd>
<dt><strong>Distributed Training:</strong></dt><dd><p>Support for distributed training on clusters</p>
</dd>
<dt><strong>AutoML Integration:</strong></dt><dd><p>Automated feature engineering and model selection</p>
</dd>
</dl>
</section>
<section id="best-practices">
<h2>Best Practices<a class="headerlink" href="#best-practices" title="Link to this heading"></a></h2>
<ol class="arabic simple">
<li><p><strong>Start Simple</strong> - Begin with a few algorithms and basic features</p></li>
<li><p><strong>Iterate Quickly</strong> - Use small grid search iterations initially</p></li>
<li><p><strong>Monitor Overfitting</strong> - Watch train/validation score gaps</p></li>
<li><p><strong>Feature Engineering</strong> - Spend time on domain-specific features</p></li>
<li><p><strong>Ensemble Wisely</strong> - Combine diverse models for best results</p></li>
<li><p><strong>Track Experiments</strong> - Use the timestamped runs for comparison</p></li>
</ol>
<p>For specific domain applications, see:</p>
<ul class="simple">
<li><p><a class="reference internal" href="market_flow.html"><span class="doc">MarketFlow</span></a> - Financial market analysis and trading strategies</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../tutorials/system.html" class="btn btn-neutral float-left" title="Trading System Tutorial" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="project.html" class="btn btn-neutral float-right" title="Project Structure" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, ScottFree Analytics LLC.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>